## HTTP/2.0

### HTTP 1.1 版本新特性有哪些？

1. 默认长连接（在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输 HTTP 数据的 TCP 连接不会关闭，客户端再次访问这个服务器时，会继续使用这一条已经建立的连接。`Keep-Alive` 不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如Apache）中设定这个时间。实现长连接需要客户端和服务端都支持长连接。）
2. 串行化，同时发送多个 HTTP 请求，不用等待响应
3. 断点续传原理？

### HTTP/1.x 的缺陷有哪些？

实现简单是以牺牲性能为代价的。

1. 不会压缩请求和响应的首部，导致不必要的网络流量
2. 不支持有效的资源优先级
3. 需要使用多个连接才能实现并发和缩短延迟

### HTTP/2.0 的特性有哪些？

1. 采用二进制格式而非文本格式，将所有传输的信息分割为更小的消息和帧（二进制帧）
2. 完全多路复用，而非有序并阻塞的，只需一个连接即可实现并行（如图）
    - 通过单一的 HTTP/2 连接发起多重的请求-响应消息
    - 在 HTTP/1.1 协议中 「浏览器客户端在同一时间，针对同一域名下的请求有一定数量限制。超过限制数目的请求会被阻塞」
3. 使用报头压缩，降低开销
4. 可以将响应主动"推送"到客户端缓存中（服务器可以对一个客户端请求发送多个响应，例如请求了 HTML，可以响应需要的 CSS 和 JavaScript）

![HTTP/2.0 多路复用](/img/network/http-2.webp)

## 参考资料

- [HTTP/2.0 相比1.0有哪些重大改进？](https://www.jianshu.com/p/632215007a0c)