## B+ 树索引

### 什么是聚集索引和非聚集索引？

聚集索引以及非聚集索引用的是 B+ 树索引。

- 聚集索引：也称聚簇索引，数据行的物理顺序与列值（一般是主键的那一列）的逻辑顺序相同，一个表中只能拥有一个聚集索引
- 非聚集索引：该索引中索引的逻辑顺序与磁盘上行的物理存储顺序不同，一个表中可以拥有多个非聚集索引

### 如何创建聚集索引？

MySQL 里主键就是聚集索引，因此创建表后指定主键即可。

```mysql
create table t1(
    id int primary key,
    name nvarchar(255)
)

alter table table_name add primary key(colum_name)
```

⚠️注：如果不创建索引，系统会自动创建一个隐含列作为表的聚集索引

### B 树和 B+ 树的区别

[B-Tree 与 B+Tree](http://jalan.space/2019/01/05/2019/b-tree-and-b-plus-tree/)

- B 树
    - 每个节点都存储 key（索引） 和 data（数据）
    - 叶子节点指针为 null，叶子节点不包含任何关键字信息
- B+ 树
    - 所有叶子节点包含全部关键字的信息 与 指向含有这些关键字记录的指针
    - 叶子节点本身依关键字的大小自小到达的顺序链接（所有叶子节点形成有序链表，便于范围查找）

### 参考资料

- [聚集索引与非聚集索引的总结](https://www.cnblogs.com/s-b-b/p/8334593.html)