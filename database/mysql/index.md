## 索引

### 为什么使用数据索引可以提高效率？

- 索引的存储是有序的
- 在有序的情况下，通过索引查询一个数据无需遍历所有记录
- 极端情况下，数据索引的查询效率为二分查询效率，趋近于 `log(N)`

### 什么是联合索引？

MySQL 中的索引可以以一定顺序**引用多个列**（两个或以上），这种索引叫做复合（联合）索引，一般的，一个联合索引是一个有序元组 `<a1, a2, …, an>`，其中各个元素均为数据表的一列。

### 联合索引的有效查询条件是什么？

- 全值匹配：和索引中的所有列进行匹配
- 匹配最左前缀：只使用索引第一列
- 匹配列前缀：可以只匹配某一列的值的开头部分
- 匹配范围值：只匹配第一列的范围值
- 精确匹配某一列并范围匹配另一列：前缀精确匹配，后续跟一列范围匹配

### 什么是最左前缀原则？

MySQL 从左到右的使用索引中的字段，一个查询可以只使用索引中的一部份，但只能是最左侧部分。

例如：索引是 `key index (a, b, c)`，那么可以支持 `a 、 a, b 、 a, b, c` 3 种组合进行查找，但不支持 `b, c` 进行查找。

🌰举个例子：

> 复合索引的结构与电话簿类似，人名由姓和名构成，电话簿首先按姓氏对进行排序，然后按名字对有相同姓氏的人进行排序。如果您知 道姓，电话簿将非常有用；如果您知道姓和名，电话簿则更为有用，但如果您只知道名不姓，电话簿将没有用处。

### 什么情况应该不建立或少建立索引？

- 小表：表记录太少
- 经常性插入、删除、修改的表
- 数据重复且分布平均的表字段：假如一个表有10万行记录，有一个字段A只有T和F两种值，且每个值的分布概率大约为50%，那么对这种表A字段建索引一般不会提高数据库的查询速度
- 经常和主字段一块查询但主字段索引值比较多的表字段
